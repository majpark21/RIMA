% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/preprocess_milos.R
\name{preprocess_milos}
\alias{preprocess_milos}
\title{Preprocess Milo Objects for RIMA Analysis}
\usage{
preprocess_milos(
  milo1,
  milo2,
  assay = "logcounts",
  calculate_expression = TRUE,
  dt_features = NULL
)
}
\arguments{
\item{milo1, milo2}{Milo objects or paths to RDS files containing Milo objects.
Their \code{nhoods} slot must be populated.
Rownames (feature/gene names) must be specified to ensure correct feature comparison.
Feature mapping between objects can be provided via \code{dt_features}.}

\item{assay}{Character string specifying which assay to use for calculating
neighbourhood expression. Default is \code{"logcounts"}.}

\item{calculate_expression}{Logical. If \code{TRUE}, calculates neighbourhood expression
from the specified assay. Required for downstream RIMA functions. Default is \code{TRUE}.}

\item{dt_features}{A data.frame or data.table with 2 columns mapping features across the
two Milos when features are not fully overlapping.
The 1st column contains feature names in \code{milo1} (resp. 2nd column for \code{milo2}).
Useful for cross-species comparisons using orthologs, or for analyzing a feature subset.
If \code{NULL}, rownames must be identical between both Milos.}
}
\value{
A list of 2 Milo objects with the same rownames and calculated neighbourhood expression
  (if \code{calculate_expression = TRUE}).
}
\description{
Prepares a pair of Milo objects for RIMA analysis by ensuring consistent feature sets,
calculating neighbourhood expression, and optionally mapping features across datasets.
}
\examples{
# Not run: milos <- preprocess_milos(milo1, milo2)
}
